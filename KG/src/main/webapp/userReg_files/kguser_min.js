var KgUser=KgUser||{$:function(){var c=[];for(var b=0,a=arguments.length;b<a;b++){var d=arguments[b];if(typeof d=="string"){d=document.getElementById(d)}if(a==1){return d}c.push(d)}return c},$T:function(b,c){var a=(this.$(c)||document).getElementsByTagName(b||"*");return this.$A(a)},$A:function(c){var a=[];for(var d=0,b=c.length;d<b;d++){a.push(c[d])}return a},$C:function(d,h,g){var b=[],f=0;if(!!document.getElementsByClassName){var a=this.$(h||document).getElementsByClassName(d);a=this.$A(a);if(g&&g!=="*"){for(var c=a.length;f<c;f++){(a[f].tagName.toLowerCase()===g.toLowerCase())&&b.push(a[f])}}else{b=a}}else{for(var a=this.$T(g,h),c=a.length;f<c;f++){new RegExp("\\b"+d+"\\b","g").test(a[f].className)&&b.push(a[f])}}return b},loadScript:function(c,b,h){var g=b||"";if(b&&(typeof b==="object")){var f="";for(var d in b){f+=d+"="+b[d]+"&"}g=f.substr(0,f.length-1)}var a=document.createElement("script");a.type="text/javascript";if(g!=null&&g!=""){c=c+"?"+(g||"")}a.src=c;a.onload=a.onreadystatechange=function(){if(!this.readyState||(this.readyState=="complete"||this.readyState=="loaded")){h&&h();a.onreadystatechange=a.onload=null;a=null}};document.getElementsByTagName("head")[0].appendChild(a)},JSON:function(){function f(n){return n<10?"0"+n:n}Date.prototype.toJSON=function(){return this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z"};var m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function stringify(value,whitelist){var a,i,k,l,r=/["\\\x00-\x1f\x7f-\x9f]/g,v;switch(typeof value){case"string":return r.test(value)?'"'+value.replace(r,function(a){var c=m[a];if(c){return c}c=a.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"':'"'+value+'"';case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}if(typeof value.toJSON==="function"){return stringify(value.toJSON())}a=[];if(typeof value.length==="number"&&!(value.propertyIsEnumerable("length"))){l=value.length;for(i=0;i<l;i+=1){a.push(stringify(value[i],whitelist)||"null")}return"["+a.join(",")+"]"}if(whitelist){l=whitelist.length;for(i=0;i<l;i+=1){k=whitelist[i];if(typeof k==="string"){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+":"+v)}}}}else{for(k in value){if(typeof k==="string"){v=stringify(value[k],whitelist);if(v){a.push(stringify(k)+":"+v)}}}}return"{"+a.join(",")+"}"}}return{stringify:stringify,parse:function(text,filter){var j;function walk(k,v){var i,n;if(v&&typeof v==="object"){for(i in v){if(Object.prototype.hasOwnProperty.apply(v,[i])){n=walk(i,v[i]);if(n!==undefined){v[i]=n}else{delete v[i]}}}}return filter(k,v)}if(/^[\],:{}\s]*$/.test(text.replace(/\\["\\\/bfnrtu]/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof filter==="function"?walk("",j):j}throw new SyntaxError("parseJSON")}}}(),Cookie:{write:function(b,f,j,h,d,g){var a="";if(j){var c=new Date();c.setTime(c.getTime()+(j*1000));a=";expires="+c.toGMTString()}f=encodeURIComponent(f);h=h?"; path="+(h):";path=/";d=d?"; domain="+(d):"";g=g?"; secure":"";document.cookie=[b,"=",f,a,h,d,g].join("")},setDay:function(a,c,g,f,b,d){this.write(a,c,(g*24*60*60),f,b,d)},setHour:function(a,c,g,f,b,d){this.write(a,c,(g*60*60),f,b,d)},setMin:function(a,c,g,f,b,d){this.write(a,c,(g*60),f,b,d)},setSec:function(a,c,g,f,b,d){this.write(a,c,(g),f,b,d)},read:function(d,g){var h="";var f=d+"=";if(document.cookie.length>0){offset=document.cookie.indexOf(f);if(offset!=-1){offset+=f.length;end=document.cookie.indexOf(";",offset);if(end==-1){end=document.cookie.length}h=document.cookie.substring(offset,end);if(typeof g!="undefined"&&g!=null&&g!=""){var b=h.toString().split("&");for(var c=0;c<b.length;c++){var a=b[c];if(a.substring(0,g.length+1)==(g+"=")){h=a.substring(g.length+1).replace(/%/g,"\\");break}else{h=""}}}}}return decodeURIComponent(h)},remove:function(a){this.write(a,"",-90)}},KgUrl:{login:"https://login-user.kugou.com/",verify:"http://verifycode.service.kugou.com/",third:"http://openplat-user.kugou.com/",cross:"http://login.user.kugou.com/",reg:"https://reg-user.kugou.com/",user:"http://userinfo.user.kugou.com/"},LoadCss:function(c,g){var b=document.createElement("style");var a=document.head||document.getElementsByTagName("head")[0];b.type="text/css";b.id=g;if(b.styleSheet){var d=function(){try{b.styleSheet.cssText=c}catch(h){}};if(b.styleSheet.disabled){setTimeout(d,10)}else{d()}}else{var f=document.createTextNode(c);b.appendChild(f)}a.appendChild(b)},Login:function(f,l){var m=0;var g="";var h="";var c="";var k=1;var j=false;var a="";var b="";if(KgUser.IsEmpty(f.appid)||KgUser.IsEmpty(KgUser.Trim(f.username))||KgUser.IsEmpty(KgUser.Trim(f.pwd))||KgUser.IsEmpty(l)){KgUser.GetMsg(l,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}m=f.appid;
g=KgUser.Trim(f.username);h=KgUser.Trim(f.pwd);if(!KgUser.IsEmpty(KgUser.Trim(f.code))){c=KgUser.Trim(f.code)}if(!KgUser.IsEmpty(f.expire_day)){k=f.expire_day}if(!KgUser.IsEmpty(f.autologin)){j=f.autologin}if(!KgUser.IsEmpty(f.redirect_uri)){a=f.redirect_uri}if(!KgUser.IsEmpty(f.state)){b=f.state}if(j){k=30}var d={"appid":m,"username":encodeURIComponent(g),"pwd":KgUser.Md5(h),"code":c,"clienttime":parseInt(new Date().getTime()/1000),"expire_day":k,"autologin":j,"redirect_uri":encodeURIComponent(a),"state":encodeURIComponent(b),"callback":l,"login_ver":1};this.loadScript(KgUser.KgUrl.login+"v1/login/",d)},LoginByVerifycode:function(g,d){var c=0;var a="";var b="";var h=1;if(KgUser.IsEmpty(g.appid)||KgUser.IsEmpty(KgUser.Trim(g.mobile))||KgUser.IsEmpty(KgUser.Trim(g.code))||KgUser.IsEmpty(d)){KgUser.GetMsg(d,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}c=g.appid;a=KgUser.Trim(g.mobile);if(!KgUser.IsEmpty(KgUser.Trim(g.code))){b=KgUser.Trim(g.code)}if(!KgUser.IsEmpty(g.expire_day)){h=g.expire_day}var f={"appid":c,"mobile":encodeURIComponent(a),"code":b,"clienttime":parseInt(new Date().getTime()/1000),"expire_day":h,"callback":d,"login_ver":1};this.loadScript(KgUser.KgUrl.login+"v1/loginbyverifycode/",f)},VerifyCode:function(f,g){var m=0;var l="";var h=4;var c=90;var o=40;var k="LoginCheckCode";var j="";var p=0;var d=0;if(KgUser.IsEmpty(f.appid)||KgUser.IsEmpty(KgUser.Trim(f.codeid))){return false}m=f.appid;l=KgUser.Trim(f.codeid);if(!KgUser.IsEmpty(KgUser.Trim(f.width))){c=KgUser.Trim(f.width)}if(!KgUser.IsEmpty(KgUser.Trim(f.height))){o=KgUser.Trim(f.height)}if(!KgUser.IsEmpty(KgUser.Trim(f.type))){k=KgUser.Trim(f.type)}if(!KgUser.IsEmpty(KgUser.Trim(f.inputid))){j=KgUser.Trim(f.inputid)}var p=KgUser.IsEmpty(f.codetype)?0:f.codetype;d=Math.round(Math.random()*100);if(k=="RegCheckCode"&&typeof f.codetype=="undefined"){if(d>=0&&d<=100){p=1}else{if(d>=31&&d<=40){p=2}}var a=j.split(",");for(i=0;i<a.length;i++){if(typeof KgUser.$(a[i])!="undefined"){if(p!=0){KgUser.$(a[i]).style.display="none"}else{KgUser.$(a[i]).style.display=""}}}}KgUser.CodeAll.codetype=p;KgUser.CodeAll.appid=m;KgUser.CodeAll.codeid=l;var b=KgUser.KgUrl.verify+"v1/get_img_code?type="+k+"&appid="+m+"&codetype="+p+"&t="+new Date().getTime();switch(p){case 1:setTimeout(function(){KgUser.SudokuCode({url:b,id:f.codeid,appid:m},g)},100);break;case 2:setTimeout(function(){KgUser.ThirdCode({id:f.codeid,url:b},g)},100);break;default:setTimeout(function(){KgUser.$(l).style.display="";KgUser.$(l).innerHTML='<img id="KgPopupVerifyCode" src="'+b+'" onclick="KgUser.ChangeVerifyCode(this,'+m+",'"+k+'\')" title="看不清，换一张" alt="看不清，换一张" style="cursor:pointer;width:'+c+"px;height:"+o+'px;" />'},100);break}},ChangeVerifyCode:function(c,b,a){setTimeout(function(){c.src=KgUser.KgUrl.verify+"v1/get_img_code?type="+a+"&appid="+b+"&t="+new Date().getTime()},100)},CheckVerifyCode:function(d){var b=0;var f="";var a=parseInt((new Date).getTime()/1000);if(KgUser.IsEmpty(d.appid)||KgUser.IsEmpty(KgUser.Trim(d.username))){return false}b=d.appid;f=KgUser.Trim(d.username);var c={"appid":b,"username":encodeURIComponent(f),"t":a};KgUser.loadScript(KgUser.KgUrl.login+"/v1/check/",c)},ThirdLogin:function(g,j){var a="",b="",d=0,m=0,c="";var k=0;var f=parseInt((new Date).getTime()/1000);if(!KgUser.IsEmpty(g.appid)){k=g.appid}if(!KgUser.IsEmpty(KgUser.Trim(g.partner))){c=KgUser.Trim(g.partner).toLowerCase()}switch(c){case"qzone":a=KgUser.KgUrl.third+"qq/?";b="TencentLogin";d=470;m=340;break;case"sina":a=KgUser.KgUrl.third+"sina/?";b="SinaLogin";d=562;m=380;break;case"qqweibo":a=KgUser.KgUrl.third+"qqweibo/?";b="QQWeiBoLogin";d=563;m=387;break;case"renren":a=KgUser.KgUrl.third+"renren/?";b="RenrenLogin";d=563;m=387;break;case"weixin":a=KgUser.KgUrl.third+"weixin/index.php?ktype=0";b="WeiXinLogin";d=563;m=593;break;case"esurfing":a=KgUser.KgUrl.third+"esurfing/?";b="EsurLogin";d=800;m=458;break}if(a){a+="&appid="+k+"&clienttime="+f+"&callback="+j+"&domain="+KgUser.GetDomain();var h=(window.screen.width-d)/2,n=(window.screen.height-m)/2;window.open(a,b,"width="+d+",height="+m+",left="+h+",top="+n+",menubar=0,scrollbars=0,resizable=0,status=0,titlebar=0,toolbar=0,location=1")}},CrossDomainLogin:function(callbackName){var appid=0;var userid=0;var token="";var ct=parseInt((new Date).getTime()/1000);var domain=KgUser.GetDomain();if(!KgUser.IsEmpty(KgUser.Cookie.read("KuGoo","a_id"))){appid=parseInt(KgUser.Cookie.read("KuGoo","a_id"))}if(!KgUser.IsEmpty(KgUser.Cookie.read("KuGoo","KugooID"))){userid=parseInt(KgUser.Cookie.read("KuGoo","KugooID"))}if(!KgUser.IsEmpty(KgUser.Cookie.read("KuGoo","ct"))){ct=parseInt(KgUser.Cookie.read("KuGoo","ct"))}if(!KgUser.IsEmpty(KgUser.Trim(KgUser.Cookie.read("KuGoo","t")))){token=KgUser.Trim(KgUser.Cookie.read("KuGoo","t"))}var param={"a_id":appid,"userid":userid,"t":token,"ct":ct,"callback":"","domain":domain};var url=KgUser.KgUrl.login;KgUser.loadScript(url+"v1/cross/",param,function(){if(!KgUser.IsEmpty(callbackName)){var uinfo=new Object();if(!KgUser.IsEmpty(KgUser.Cookie.read("KuGoo","KugooID"))){uinfo.userid=parseInt(KgUser.Cookie.read("KuGoo","KugooID"))
}if(!KgUser.IsEmpty(KgUser.Cookie.read("KuGoo","UserName"))){uinfo.username=eval("'"+KgUser.Trim(KgUser.Cookie.read("KuGoo","UserName"))+"'")}if(!KgUser.IsEmpty(KgUser.Cookie.read("KuGoo","NickName"))){uinfo.nickname=eval("'"+KgUser.Trim(KgUser.Cookie.read("KuGoo","NickName"))+"'")}if(!KgUser.IsEmpty(KgUser.Trim(KgUser.Cookie.read("KuGoo","t")))){uinfo.token=KgUser.Trim(KgUser.Cookie.read("KuGoo","t"))}if(!KgUser.IsEmpty(KgUser.Trim(KgUser.Cookie.read("KuGoo","Pic")))){uinfo.pic=KgUser.Trim(KgUser.Cookie.read("KuGoo","Pic"))}KgUser.GetMsg(callbackName,uinfo)}})},LoginOut:function(c){KgUser.Cookie.setDay("KuGoo","",-1,"","."+KgUser.GetDomain(),"");var b=KgUser.KgUrl.cross+"v2/loginout/?a_id="+c+"&ct="+parseInt((new Date).getTime()/1000)+"&domain="+KgUser.GetDomain();if(/MSIE (\d+\.\d+);/.test(navigator.userAgent)||/MSIE(\d+\.\d+);/.test(navigator.userAgent)){var a=document.createElement("a");a.href=b;document.body.appendChild(a);a.click()}else{location.href=b}},GetDomain:function(){var a=/\w*\.(com.cn|com|net.cn|net|org.cn|org|gov.cn|gov|cn|mobi|me|info|name|biz|cc|tv|asia|hk|网络|公司|中国).*$/g;return document.domain.toString().match(a)[0]},GetMsg:function(b,a){if(!KgUser.IsEmpty(b)){window[b](a)}},GetSmsCode:function(f,c){var b=0;var a="";if(KgUser.IsEmpty(f.appid)||KgUser.IsEmpty(KgUser.Trim(f.mobile))){KgUser.GetMsg(c,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}b=f.appid;a=KgUser.Trim(f.mobile);type=KgUser.Trim(f.type);verifycode=f.verifycode;if(KgUser.IsEmpty(verifycode)){verifycode=""}var d={"appid":b,"mobile":encodeURIComponent(a),"callback":c,"v":1,"verifycode":verifycode,"ct":parseInt((new Date).getTime()/1000)};if(type=="login"){KgUser.loadScript(KgUser.KgUrl.login+"v1/send_sms/",d)}else{KgUser.loadScript(KgUser.KgUrl.reg+"v1/send_sms/",d)}},RegByUserName:function(d,m){var n=0;var b="";var f=1;var h="";var l=1;var o="";var j="";var g="";var k="";var a="";if(KgUser.CodeAll.codetype==1){d.code=KgUser.CodeAll.cval}if(KgUser.IsEmpty(d.appid)||KgUser.IsEmpty(KgUser.Trim(d.username))||KgUser.IsEmpty(KgUser.Trim(d.password))){KgUser.GetMsg(m,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}if(KgUser.IsEmpty(KgUser.Trim(d.code))&&KgUser.CodeAll.codetype!=2){KgUser.GetMsg(m,{errorCode:"20010",errorMsg:"验证码不能为空"});return false}n=d.appid;h=KgUser.Trim(d.username);o=KgUser.Trim(d.password);b=KgUser.Trim(d.code);if(!KgUser.IsEmpty(d.expire_day)){f=d.expire_day}if(typeof d.sex!="undefined"&&d.sex!=null){l=d.sex}if(!KgUser.IsEmpty(KgUser.Trim(d.nickname))){j=KgUser.Trim(d.nickname)}else{j=h}if(!KgUser.IsEmpty(KgUser.Trim(d.security_email))){g=KgUser.Trim(d.security_email)}if(!KgUser.IsEmpty(KgUser.Trim(d.id_card))){k=KgUser.Trim(d.id_card)}if(!KgUser.IsEmpty(KgUser.Trim(d.truename))){a=KgUser.Trim(d.truename)}var c={"regtype":"username","appid":n,"code":encodeURIComponent(b),"expire_day":f,"v":1,"username":encodeURIComponent(h),"sex":l,"password":KgUser.Md5(o),"nickname":encodeURIComponent(j),"security_email":encodeURIComponent(g),"id_card":encodeURIComponent(k),"truename":encodeURIComponent(a),"callback":m,"codetype":KgUser.CodeAll.codetype};if(KgUser.CodeAll.codetype==2&&typeof KgUser.$C("geetest_challenge","","input")[0]!="undefined"){c.geetest_challenge=KgUser.$C("geetest_challenge",KgUser.CodeAll.codeid,"input")[0].value;c.geetest_validate=KgUser.$C("geetest_validate",KgUser.CodeAll.codeid,"input")[0].value;c.geetest_seccode=KgUser.$C("geetest_seccode",KgUser.CodeAll.codeid,"input")[0].value}KgUser.loadScript(KgUser.KgUrl.reg+"v2/reg/",c)},RegByMobile:function(d,k){var l=0;var b="";var f=1;var a="";var h=1;var m="";var g="";var j="";if(KgUser.IsEmpty(d.appid)||KgUser.IsEmpty(KgUser.Trim(d.mobile))||KgUser.IsEmpty(KgUser.Trim(d.code))){KgUser.GetMsg(k,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}l=d.appid;a=KgUser.Trim(d.mobile);b=KgUser.Trim(d.code);var c={};var j=typeof d.type=="undefined"?"":d.type;if(j==""){if(KgUser.IsEmpty(KgUser.Trim(d.password))){KgUser.GetMsg(k,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}m=KgUser.Trim(d.password);if(!KgUser.IsEmpty(d.expire_day)){f=d.expire_day}if(typeof d.sex!="undefined"&&d.sex!=null){h=d.sex}if(!KgUser.IsEmpty(KgUser.Trim(d.nickname))){g=KgUser.Trim(d.nickname)}else{g=a}c={"regtype":"mobile","appid":l,"code":encodeURIComponent(b),"expire_day":f,"mobile":encodeURIComponent(a),"sex":h,"password":KgUser.Md5(m),"nickname":encodeURIComponent(g),"callback":k}}else{c={"regtype":"mobile","appid":l,"code":encodeURIComponent(b),"mobile":encodeURIComponent(a),"callback":k,"type":j}}KgUser.loadScript(KgUser.KgUrl.reg+"v2/reg/",c)},RegByEmail:function(c,j){var k=0;var a="";var d=1;var h="";var g=1;var l="";var f="";if(KgUser.CodeAll.codetype==1){c.code=KgUser.CodeAll.cval}if(KgUser.IsEmpty(c.appid)||KgUser.IsEmpty(KgUser.Trim(c.email))||KgUser.IsEmpty(KgUser.Trim(c.password))){KgUser.GetMsg(j,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}if(KgUser.IsEmpty(KgUser.Trim(c.code))&&KgUser.CodeAll.codetype!=2){KgUser.GetMsg(j,{errorCode:"20010",errorMsg:"验证码不能为空"});
return false}k=c.appid;h=KgUser.Trim(c.email);l=KgUser.Trim(c.password);a=KgUser.Trim(c.code);if(!KgUser.IsEmpty(c.expire_day)){d=c.expire_day}if(typeof c.sex!="undefined"&&c.sex!=null){g=c.sex}if(!KgUser.IsEmpty(KgUser.Trim(c.nickname))){f=KgUser.Trim(c.nickname)}else{f=h}var b={"regtype":"email","appid":k,"code":encodeURIComponent(a),"expire_day":d,"email":encodeURIComponent(h),"sex":g,"password":KgUser.Md5(l),"nickname":encodeURIComponent(f),"callback":j,"codetype":KgUser.CodeAll.codetype};if(KgUser.CodeAll.codetype==2&&typeof KgUser.$C("geetest_challenge","","input")[0]!="undefined"){b.geetest_challenge=KgUser.$C("geetest_challenge",KgUser.CodeAll.codeid,"input")[0].value;b.geetest_validate=KgUser.$C("geetest_validate",KgUser.CodeAll.codeid,"input")[0].value;b.geetest_seccode=KgUser.$C("geetest_seccode",KgUser.CodeAll.codeid,"input")[0].value}KgUser.loadScript(KgUser.KgUrl.reg+"v2/reg/",b)},CheckPwd:function(f,c){var b=0;var a="";var g="";if(KgUser.IsEmpty(f.appid)||KgUser.IsEmpty(KgUser.Trim(f.password))){KgUser.GetMsg(c,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}b=f.appid;a=KgUser.Trim(f.password);if(!KgUser.IsEmpty(KgUser.Trim(f.username))){g=KgUser.Trim(f.username)}var d={"appid":b,"str":KgUser.Md5(a),"username":encodeURIComponent(g),"callback":c};KgUser.loadScript(KgUser.KgUrl.user+"check_str/",d)},CheckReg:function(f,c){var b=0;var a=0;var g="";if(KgUser.IsEmpty(f.appid)||KgUser.IsEmpty(f.type)||KgUser.IsEmpty(KgUser.Trim(f.username))){KgUser.GetMsg(c,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}b=f.appid;a=f.type;g=f.username;var d={"appid":b,"type":a,"username":encodeURIComponent(g),"callback":c};KgUser.loadScript(KgUser.KgUrl.reg+"v2/check/",d)},ThirdCode:function(c,b){if(!KgUser.IsEmpty(KgUser.Trim(c.url))&&!KgUser.IsEmpty(KgUser.Trim(c.id))){var a=c.url;var d=c.id;window.gt_thirdcode=(function(h,f){var g=f.getElementsByTagName("head")[0];return function(k,n){k.protocol=k.https?"https://":"http://";var m=function(){n(new h.Geetest(k))};var j=function(){var p=f.createElement("script");p.id="gt_lib";p.src=k.protocol+"static.geetest.com/static/js/geetest.0.0.0.js";p.charset="UTF-8";p.type="text/javascript";g.appendChild(p);var o=false;p.onload=p.onreadystatechange=function(){if(!o&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){m();o=true}}};h.geetest_callback=function(){m()};if(k){if(k.offline){j()}else{if(!h.Geetest){var l=f.createElement("script");l.onerror=function(){k.offline=true;j()};l.src=k.protocol+"api.geetest.com/get.php?callback=geetest_callback";g.appendChild(l)}else{m()}}}}}(window,document));if(!KgUser.IsEmpty(KgUser.Trim(d))){KgUser.loadScript(a,"");window.gt_succCallback=function(f){if(typeof KgUser.$(d)!="undefined"){KgUser.$(d).innerHTML=""}f.appendTo("#"+d);f.onSuccess(b)}}}},CodeAll:{kg_sudoku_anslist:["","","",""],kg_sudoku_flag:0,codetype:0,cval:"",appid:0,codeid:""},SudokuCode:function(f,j){if(!KgUser.IsEmpty(KgUser.Trim(f.url))&&!KgUser.IsEmpty(KgUser.Trim(f.id))){KgUser.CodeAll.cval="";KgUser.CodeAll.kg_sudoku_anslist=["","","",""];KgUser.CodeAll.kg_sudoku_flag=0;var k=document.createElement("link");var l=document.head||document.getElementsByTagName("head")[0];k.type="text/css";k.rel="stylesheet";k.href=KgUser.KgUrl.verify+"v1/static/css/sudoku.css";k.id="kg_sudoku_css";if(typeof document.getElementById("kg_sudoku_css")=="undefined"||document.getElementById("kg_sudoku_css")==null){l.appendChild(k)}var a=f.url;var c=f.id;var m=f.appid;KgUser.CodeAll.appid=m;var g=".kg_sudoku_val_add b,.kg_sudoku_input_show span,.kg_sudoku_val_input a b{background:url("+a+") no-repeat  -500px -500px;} .kg_sudoku_input_show span{background-position:0 0;}";KgUser.LoadCss(g,"kg_sudoku_style");var n=['<div id="kg_sudoku_com" class="kg_sudoku_com">','<div class="kg_sudoku_val_add kg_sudoku_clearfix" id="kg_sudoku_val_add">',"<b></b>","<b></b>","<b></b>","<b></b>",'<b class="kg_sudoku_delete" title="清除" onclick="KgUser.DelSudokuCode(1);"></b>','<div id="kg_sudoku_msg" class="kg_sudoku_msg"></div>',"</div>",'<div class="kg_sudoku_input_show"><span></span><a onclick="KgUser.ChangeSudokuCode(\''+a+"',1)\">看不清,换一张?</a></div>",'<div class="kg_sudoku_ation">点击框内文字输入上图中对应<i>汉字</i></div>','<div class="kg_sudoku_val_input kg_sudoku_clearfix" id="kg_sudoku_val_input">','<a href="javascript:;"><b id="kg_sudoku_v_0"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_1"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_2"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_3"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_4"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_5"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_6"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_7"></b></a>','<a href="javascript:;"><b id="kg_sudoku_v_8"></b></a>',"</div>","</div>"].join("");document.getElementById(c).innerHTML=n;var h=function(s,r){var p=document.getElementById(s);var q=!+"\v1";var o=document.documentMode;if(r=="backgroundPosition"){if(q||o==10){return p.currentStyle.backgroundPositionX+" "+p.currentStyle.backgroundPositionY
}}if(p.currentStyle){return p.currentStyle[r]}else{if(window.getComputedStyle){propprop=r.replace(/([A-Z])/g,"-$1");propprop=r.toLowerCase();return document.defaultView.getComputedStyle(p,null)[r]}}};var b=function(r,t){var s=KgUser.CodeAll.kg_sudoku_anslist;var q=KgUser.CodeAll.kg_sudoku_flag;var p=document.getElementById("kg_sudoku_val_add").getElementsByTagName("b");for(var o=0;o<s.length;o++){if(s[o]==""){s[o]=t;p[o].style.cssText="background-position:"+r;q=o;break}}if(q==3){KgUser.CodeAll.cval=s.join("");setTimeout(function(){KgUser.CheckCode({appid:m,code:KgUser.CodeAll.cval,type:"RegCheckCode",blurCallback:j},"KgUser.CheckSudoCode")},100)}};var d=function(t,q,s){var r=document.getElementById(t).getElementsByTagName("b");for(var p=0;p<r.length;p++){r[p].onclick=function o(){c_val=parseInt(this.id.replace("kg_sudoku_v_",""))+1;var v=h(this.id,"backgroundPosition");var u=v.split(" ");var x,w="";if(!KgUser.IsEmpty(u[0])){x=parseInt(u[0].replace("px"))-3}if(!KgUser.IsEmpty(u[1])){w=parseInt(u[1].replace("px"))-5}b(x+"px "+w+"px",c_val)}}};d("kg_sudoku_val_input")}},ChangeSudokuCode:function(b,a){setTimeout(function(){var c=".kg_sudoku_val_add b,.kg_sudoku_input_show span,.kg_sudoku_val_input a b{background:url("+b+"&nt="+(new Date).getTime()+") no-repeat -500px -500px;}  .kg_sudoku_input_show span{background-position:0 0;}";KgUser.LoadCss(c,"kg_sudoku_style");KgUser.DelSudokuCode(a)},200)},DelSudokuCode:function(a){KgUser.CodeAll.cval="";KgUser.CodeAll.kg_sudoku_flag=0;KgUser.CodeAll.kg_sudoku_anslist=["","","",""];var c=document.getElementById("kg_sudoku_val_add").getElementsByTagName("b");for(var b=0;b<c.length;b++){c[b].style.cssText=""}if(a==1){document.getElementById("kg_sudoku_msg").className="kg_sudoku_msg"}},CheckSudoCode:function(c){var b="";if(!KgUser.IsEmpty(c.errorCode)){b="kg_sudoku_msg fail";document.getElementById("kg_sudoku_msg").className=b;var a=KgUser.KgUrl.verify+"v1/get_img_code?type=RegCheckCode&appid="+KgUser.CodeAll.appid+"&codetype=1&t="+new Date().getTime();KgUser.ChangeSudokuCode(a,0)}else{b="kg_sudoku_msg success";document.getElementById("kg_sudoku_msg").className=b}},CheckCode:function(d,j){var k=0;var f=parseInt(new Date().getTime()/1000);var a="";var b="";var h="LoginCheckCode";var g="";if(KgUser.IsEmpty(d.appid)){KgUser.GetMsg(j,{errorCode:"20010",errorMsg:"必填参数不能为空"});return false}if(!KgUser.IsEmpty(KgUser.Trim(d.code))){a=KgUser.Trim(d.code);k=d.appid;if(!KgUser.IsEmpty(KgUser.Trim(d.type))){h=KgUser.Trim(d.type)}if(!KgUser.IsEmpty(d.blurCallback)){g=d.blurCallback}var c={"appid":k,"ct":f,"code":encodeURIComponent(a),"type":encodeURIComponent(h),"callback":j};KgUser.loadScript(KgUser.KgUrl.verify+"v1/check_img_code/",c,g)}},Md5:function(k){var p=0;var a="";var l=8;function m(r){return q(f(b(r),r.length*l))}function f(C,w){C[w>>5]|=128<<((w)%32);C[(((w+64)>>>9)<<4)+14]=w;var B=1732584193;var A=-271733879;var z=-1732584194;var y=271733878;for(var t=0;t<C.length;t+=16){var v=B;var u=A;var s=z;var r=y;B=j(B,A,z,y,C[t+0],7,-680876936);y=j(y,B,A,z,C[t+1],12,-389564586);z=j(z,y,B,A,C[t+2],17,606105819);A=j(A,z,y,B,C[t+3],22,-1044525330);B=j(B,A,z,y,C[t+4],7,-176418897);y=j(y,B,A,z,C[t+5],12,1200080426);z=j(z,y,B,A,C[t+6],17,-1473231341);A=j(A,z,y,B,C[t+7],22,-45705983);B=j(B,A,z,y,C[t+8],7,1770035416);y=j(y,B,A,z,C[t+9],12,-1958414417);z=j(z,y,B,A,C[t+10],17,-42063);A=j(A,z,y,B,C[t+11],22,-1990404162);B=j(B,A,z,y,C[t+12],7,1804603682);y=j(y,B,A,z,C[t+13],12,-40341101);z=j(z,y,B,A,C[t+14],17,-1502002290);A=j(A,z,y,B,C[t+15],22,1236535329);B=c(B,A,z,y,C[t+1],5,-165796510);y=c(y,B,A,z,C[t+6],9,-1069501632);z=c(z,y,B,A,C[t+11],14,643717713);A=c(A,z,y,B,C[t+0],20,-373897302);B=c(B,A,z,y,C[t+5],5,-701558691);y=c(y,B,A,z,C[t+10],9,38016083);z=c(z,y,B,A,C[t+15],14,-660478335);A=c(A,z,y,B,C[t+4],20,-405537848);B=c(B,A,z,y,C[t+9],5,568446438);y=c(y,B,A,z,C[t+14],9,-1019803690);z=c(z,y,B,A,C[t+3],14,-187363961);A=c(A,z,y,B,C[t+8],20,1163531501);B=c(B,A,z,y,C[t+13],5,-1444681467);y=c(y,B,A,z,C[t+2],9,-51403784);z=c(z,y,B,A,C[t+7],14,1735328473);A=c(A,z,y,B,C[t+12],20,-1926607734);B=o(B,A,z,y,C[t+5],4,-378558);y=o(y,B,A,z,C[t+8],11,-2022574463);z=o(z,y,B,A,C[t+11],16,1839030562);A=o(A,z,y,B,C[t+14],23,-35309556);B=o(B,A,z,y,C[t+1],4,-1530992060);y=o(y,B,A,z,C[t+4],11,1272893353);z=o(z,y,B,A,C[t+7],16,-155497632);A=o(A,z,y,B,C[t+10],23,-1094730640);B=o(B,A,z,y,C[t+13],4,681279174);y=o(y,B,A,z,C[t+0],11,-358537222);z=o(z,y,B,A,C[t+3],16,-722521979);A=o(A,z,y,B,C[t+6],23,76029189);B=o(B,A,z,y,C[t+9],4,-640364487);y=o(y,B,A,z,C[t+12],11,-421815835);z=o(z,y,B,A,C[t+15],16,530742520);A=o(A,z,y,B,C[t+2],23,-995338651);B=g(B,A,z,y,C[t+0],6,-198630844);y=g(y,B,A,z,C[t+7],10,1126891415);z=g(z,y,B,A,C[t+14],15,-1416354905);A=g(A,z,y,B,C[t+5],21,-57434055);B=g(B,A,z,y,C[t+12],6,1700485571);y=g(y,B,A,z,C[t+3],10,-1894986606);z=g(z,y,B,A,C[t+10],15,-1051523);A=g(A,z,y,B,C[t+1],21,-2054922799);B=g(B,A,z,y,C[t+8],6,1873313359);y=g(y,B,A,z,C[t+15],10,-30611744);z=g(z,y,B,A,C[t+6],15,-1560198380);A=g(A,z,y,B,C[t+13],21,1309151649);
B=g(B,A,z,y,C[t+4],6,-145523070);y=g(y,B,A,z,C[t+11],10,-1120210379);z=g(z,y,B,A,C[t+2],15,718787259);A=g(A,z,y,B,C[t+9],21,-343485551);B=h(B,v);A=h(A,u);z=h(z,s);y=h(y,r)}return Array(B,A,z,y)}function d(z,v,u,r,y,w){return h(n(h(h(v,z),h(r,w)),y),u)}function j(v,u,A,z,r,y,w){return d((u&A)|((~u)&z),v,u,r,y,w)}function c(v,u,A,z,r,y,w){return d((u&z)|(A&(~z)),v,u,r,y,w)}function o(v,u,A,z,r,y,w){return d(u^A^z,v,u,r,y,w)}function g(v,u,A,z,r,y,w){return d(A^(u|(~z)),v,u,r,y,w)}function h(r,u){var t=(r&65535)+(u&65535);var s=(r>>16)+(u>>16)+(t>>16);return(s<<16)|(t&65535)}function n(r,s){return(r<<s)|(r>>>(32-s))}function b(u){var t=Array();var r=(1<<l)-1;for(var s=0;s<u.length*l;s+=l){t[s>>5]|=(u.charCodeAt(s/l)&r)<<(s%32)}return t}function q(t){var s=p?"0123456789ABCDEF":"0123456789abcdef";var u="";for(var r=0;r<t.length*4;r++){u+=s.charAt((t[r>>2]>>((r%4)*8+4))&15)+s.charAt((t[r>>2]>>((r%4)*8))&15)}return u}k=k?m(k):"";return k},Trim:function(a){if(typeof a==="string"){return a.replace(/^\s+|\s+$/g,"")}else{return a}},IsEmpty:function(a){if(typeof a!="undefined"&&a!=null&&a!=""){return false}else{return true}},GetBytes:function(){var a=0;for(var b=0;b<this.length;b++){if(this.charCodeAt(b)>256){a+=2}else{a+=1}}return a},Intercept:function(d,a){var g=this;g=g.trim();if(g.getBytes()<d){return g}var f=0;var b=0;if(a.length>0){d=d-a.length}for(var c=0;c<g.length;c++){if(this.charCodeAt(c)>256){f+=2}else{f+=1}if(f>d){break}b++}return g.substr(0,b)+a}};if("kugou.com"!=KgUser.GetDomain()){KgUser.CrossDomainLogin("")}try{document.execCommand("BackgroundImageCache",false,true)}catch(e){};